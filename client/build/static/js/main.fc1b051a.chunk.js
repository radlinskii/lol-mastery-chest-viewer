(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{56:function(e,a,t){e.exports=t(66)},61:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),l=(t(61),t(21)),i=t(31),s=t(22),m=t.n(s),u=t(38),d=t(29),h="https://ddragon.leagueoflegends.com/cdn/".concat("10.20.1");function p(e,a){return a.champions.map((function(a){return Object(d.a)(Object(d.a)({},a),e[a.championId])}))}function f(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(m.a.mark((function e(){var a,t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(h,"/data/en_US/champion.json"),e.next=3,fetch(a);case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return n=e.sent,r=Object.values(n.data),e.abrupt("return",r.reduce((function(e,a){return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},a.key,a))}),{}));case 10:throw new Error("Error fetching champions.json from Riot API, url: ".concat(a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(m.a.mark((function e(a){var t,n,r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/form",{method:"POST",body:JSON.stringify(a)});case 2:if(!(t=e.sent).ok){e.next=13;break}return e.next=6,Promise.all([t.json(),f()]);case 6:return n=e.sent,r=Object(l.a)(n,2),c=r[0],o=r[1],e.abrupt("return",{name:c.name,profileIconId:c.profileIconId,champions:p(o,c)});case 13:if(404!==t.status){e.next=17;break}throw new Error('Summoner with name "'.concat(a,'" not found :('));case 17:throw console.error(t),new Error("Error occurred. Status: ".concat(t.status));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var a=Object(n.useState)(),t=Object(l.a)(a,2),r=t[0],c=t[1],o=Object(n.useState)(),i=Object(l.a)(o,2),s=i[0],d=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),f=p[0],v=p[1];return Object(n.useEffect)((function(){d(void 0)}),[r]),{fetchSummoner:Object(n.useCallback)(Object(u.a)(m.a.mark((function a(){var t;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(void 0),v(!0),a.next=5,E(e);case 5:t=a.sent,v(!1),c(t),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),v(!1),console.error(a.t0),d(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,10]])}))),[e]),summoner:r,error:s,loading:f}},w=t(94),j=t(68),O=t(96),x=t(97),k=t(98),y=t(99),S=t(100),N=t(108),C=t(92),I=Object(C.a)({tableHeadCell:{fontWeight:900}});var L=r.a.memo((function(e){var a=e.champions,t=I();return r.a.createElement(w.a,{component:j.a,elevation:0},r.a.createElement(O.a,{"aria-label":"customized table"},r.a.createElement(x.a,{className:t.tableHeadCell},r.a.createElement(k.a,null,r.a.createElement(y.a,{className:t.tableHeadCell,align:"left"}),r.a.createElement(y.a,{className:t.tableHeadCell,align:"left"},"Champion"),r.a.createElement(y.a,{className:t.tableHeadCell,align:"center"},"Mastery Chest Available"),r.a.createElement(y.a,{className:t.tableHeadCell,align:"center"},"Mastery Level"),r.a.createElement(y.a,{className:t.tableHeadCell,align:"center"},"Champion Points"))),r.a.createElement(S.a,null,a.map((function(e){return r.a.createElement(k.a,{key:e.id},r.a.createElement(y.a,{align:"left"},r.a.createElement(N.a,{alt:"".concat(e.id," avatar"),src:"".concat(h,"/img/champion/").concat(e.id,".png")})),r.a.createElement(y.a,{align:"left"},e.id),r.a.createElement(y.a,{align:"center"},e.chestGranted?"false":"true"),r.a.createElement(y.a,{align:"center"},e.championLevel),r.a.createElement(y.a,{align:"center"},e.championPoints))})))))})),H=t(101),P=t(106),M=t(105),F=t(107),J=t(102),R=t(103),U=Object(C.a)({button:{marginLeft:"20px"},header:{display:"flex",alignItems:"center",margin:"20px 0"},container:{padding:"20px",margin:"20px 0"},avatar:{marginLeft:"10px"}});var W=function(e){var a=e.value,t=U(),c=Object(n.useState)(a),o=Object(l.a)(c,2),i=o[0],s=o[1],m=g(i),u=m.fetchSummoner,d=m.summoner,p=m.error,f=m.loading;Object(n.useEffect)((function(){a&&i===a&&u()}),[i,u,a]);var v=function(){u();var e=new URLSearchParams(window.location.search);e.set("summonerName",i),window.location.search=e.toString()};return r.a.createElement(H.a,{className:t.container,raised:!0},r.a.createElement(P.a,{p:2,mb:2},r.a.createElement(M.a,{type:"text",onChange:function(e){s(e.target.value)},placeholder:"Summoner's name",value:i,disabled:f,onKeyDown:function(e){"Enter"===e.key&&v()}}),r.a.createElement(F.a,{className:t.button,variant:"contained",color:"primary",onClick:v,disabled:f},"Submit")),void 0===d&&!f&&void 0!==(null===p||void 0===p?void 0:p.message)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(P.a,{className:t.header},r.a.createElement(R.a,{variant:"h3",component:"h2",color:"error"},p.message)),r.a.createElement(J.a,null)),void 0===d&&f&&void 0===(null===p||void 0===p?void 0:p.message)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(P.a,{className:t.header},r.a.createElement(R.a,{variant:"h3",component:"h2"},"Loading...")),r.a.createElement(J.a,null)),void 0!==d&&!f&&void 0===(null===p||void 0===p?void 0:p.message)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(P.a,{className:t.header},r.a.createElement(R.a,{variant:"h3",component:"h2"},"Hi ",d.name,"!"),r.a.createElement(N.a,{className:t.avatar,alt:"".concat(d.name," avatar"),src:"".concat(h,"/img/profileicon/").concat(d.profileIconId,".png")})),r.a.createElement(L,{champions:d.champions})))},A=t(104);var B=function(){var e=new URLSearchParams(window.location.search).get("summonerName");return r.a.createElement(A.a,null,r.a.createElement(R.a,{variant:"h2",component:"h1"},"LoL Mastery Chest Viewer"),r.a.createElement(W,{value:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.fc1b051a.chunk.js.map